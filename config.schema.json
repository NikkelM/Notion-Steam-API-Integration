{
	"$schema": "https://json-schema.org/draft/2020-12/schema",
	"title": "Notion Steam API integration configuration schema",
	"description": "Validates configuration input for the Notion Steam API integration.",
	"type": "object",
	"additionalProperties": false,
	"properties": {
		"$schema": {
			"description": "The JSON schema for this configuration file.",
			"type": "string",
			"default": "config.schema.json"
		},
		"notionIntegrationKey": {
			"description": "The secret integration key for your Notion integration. Find it on your integration dashboard after creating a new integration on https://www.notion.so/my-integrations",
			"type": "string",
			"default": ""
		},
		"notionDatabaseId": {
			"description": "The ID of the database you want to run the integration on. You can find the ID in the URL of your database, e.g. https://www.notion.so/myworkspace/your-database-id",
			"type": "string",
			"default": ""
		},
		"updateInterval": {
			"description": "The interval in which the integration will check for updates to your Notion database. The value is in milliseconds. Must be at least 60000 (1 minute).",
			"type": "integer",
			"default": 60000,
			"minimum": 60000
		},
		"steamAppIdProperty": {
			"description": "The name of the property in your Notion database that contains the Steam App ID of the games.",
			"type": "string",
			"default": "Steam App ID"
		},
		"forceReset": {
			"description": "If true, the integration will reset the local database, fetch all Steam App ID's from the Notion database and refresh all game properties. This may take longer, depending on the size of your Notion database.",
			"type": "boolean",
			"default": false
		},
		"alwaysUpdate": {
			"description": "If true, the integration will always update entries in the Notion database that were modified since it last ran, even if the game already exists in the local database. It will only update if another user than the integration has last modified the entry.",
			"type": "boolean",
			"default": false
		},
		"gameProperties": {
			"description": "Which game properties should be fetched when a new Steam game is detected, and the name of the corresponding field in the Notion database.",
			"type": "object",
			"default": {
				"gameName": {
					"enabled": true,
					"notionProperty": "Name",
					"isPageTitle": true
				},
				"coverImage": {
					"enabled": true,
					"default": "https://cdn.cloudflare.steamstatic.com/store/home/store_home_share.jpg"
				},
				"gameIcon": {
					"enabled": true,
					"default": "https://help.steampowered.com/public/shared/images/responsive/share_steam_logo.png"
				},
				"releaseDate": {
					"enabled": true,
					"notionProperty": "Release Date",
					"format": "date"
				},
				"reviewScore": {
					"enabled": true,
					"notionProperty": "Review Score"
				},
				"tags": {
					"enabled": true,
					"notionProperty": "Tags"
				},
				"gameDescription": {
					"enabled": true,
					"notionProperty": "Description"
				},
				"storePage": {
					"enabled": true,
					"notionProperty": "Store Page"
				},
				"gamePrice": {
					"enabled": true,
					"notionProperty": "Price"
				},
				"steamDeckCompatibility": {
					"enabled": true,
					"notionProperty": "Steam Deck Compatibility"
				}
			},
			"additionalProperties": false,
			"minProperties": 1,
			"properties": {
				"gameName": {
					"description": "The name of the game as it appears on Steam. The database field in Notion must be of type \"Text\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Name",
						"isPageTitle": true
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the name of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the game name in.",
							"type": "string",
							"default": "Name"
						},
						"isPageTitle": {
							"description": "Indicates if this property is the \"Title\" of the Notion page or not.",
							"type": "boolean",
							"default": true
						}
					},
					"required": [
						"enabled",
						"notionProperty"
					]
				},
				"coverImage": {
					"description": "The cover image of the game as it appears on the shop page. Will be set as the cover image for the page if enabled.",
					"type": "object",
					"default": {
						"enabled": true,
						"default": "https://www.metal-hammer.de/wp-content/uploads/2022/11/22/19/steam-logo.jpg"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the cover image of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"default": {
							"description": "The URL of the image to use if the game does not have a cover image.",
							"type": "string",
							"default": "https://www.metal-hammer.de/wp-content/uploads/2022/11/22/19/steam-logo.jpg"
						}
					}
				},
				"gameIcon": {
					"description": "The icon of the game as it appears in the game library. Will be set as the icon for the page if enabled.",
					"type": "object",
					"default": {
						"enabled": true,
						"default": "https://iconarchive.com/download/i75918/martz90/circle/steam.ico"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the icon of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"default": {
							"description": "The URL of the image to use if the game does not have an icon.",
							"type": "string",
							"default": "https://iconarchive.com/download/i75918/martz90/circle/steam.ico"
						}
					}
				},
				"releaseDate": {
					"description": "The release date of the game. The database field in Notion must be of type \"Date\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Release Date",
						"format": "date"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the release date of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the release date in.",
							"type": "string",
							"default": "Release Date"
						},
						"format": {
							"description": "The format in which the release date should be set in the database. Can be either \"date\" or \"datetime\".",
							"type": "string",
							"default": "date",
							"enum": [
								"date",
								"datetime"
							]
						}
					},
					"required": [
						"enabled",
						"notionProperty",
						"format"
					]
				},
				"reviewScore": {
					"description": "The user review score from 0-100. The database field in Notion must be of type \"Number\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Review Score"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the user review score should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the user review score in.",
							"type": "string",
							"default": "Review Score"
						}
					},
					"required": [
						"enabled",
						"notionProperty"
					]
				},
				"tags": {
					"description": "The user-defined tags of the game as they can be seen on the store page. The database field in Notion must be of type \"Multi-select\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Tags",
						"tagLanguage": "english"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the tags of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the tags in. This field must be of type \"multi-select\".",
							"type": "string",
							"default": "Tags"
						},
						"tagLanguage": {
							"description": "The language of the tags, e.g. \"english\" or \"spanish\".",
							"type": "string",
							"default": "english"
						}
					},
					"required": [
						"enabled",
						"notionProperty",
						"tagLanguage"
					]
				},
				"gameDescription": {
					"description": "The short description of the game as it appears on the store page. The database field in Notion must be of type \"Text\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Description"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the description of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the description in.",
							"type": "string",
							"default": "Description"
						}
					},
					"required": [
						"enabled",
						"notionProperty"
					]
				},
				"storePage": {
					"description": "The URL to the store page of the game. The database field in Notion must be of type \"URL\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Store Page"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the store page URL should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the store page URL in.",
							"type": "string",
							"default": "Store Page"
						}
					},
					"required": [
						"enabled",
						"notionProperty"
					]
				},
				"gamePrice": {
					"description": "The price of the game on Steam. Does not account for current sales or discounts (as this data would be outdated too quickly). The currency depends on your current country. The database field in Notion must be of type \"Number\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Price"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the price of the game should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the price in.",
							"type": "string",
							"default": "Price"
						}
					},
					"required": [
						"enabled",
						"notionProperty"
					]
				},
				"steamDeckCompatibility": {
					"description": "The Steam Deck Compatibility score, which can be one of \"Verified\", \"Playable\", \"Unsupported\" or \"Unknown\". The database field in Notion must be of type \"Select\".",
					"type": "object",
					"default": {
						"enabled": true,
						"notionProperty": "Steam Deck Compatibility"
					},
					"additionalProperties": false,
					"properties": {
						"enabled": {
							"description": "Whether or not the Steam Deck compatibility should be set in the database.",
							"type": "boolean",
							"default": true
						},
						"notionProperty": {
							"description": "The name of the Notion property to set the Steam Deck compatibility in.",
							"type": "string",
							"default": "Steam Deck Compatibility"
						}
					},
					"required": [
						"enabled",
						"notionProperty"
					]
				}
			}
		}
	},
	"required": [
		"notionIntegrationKey",
		"notionDatabaseId",
		"updateInterval",
		"steamAppIdProperty",
		"gameProperties"
	]
}